(()=>{"use strict";$(document).ready((function(){$("#booking_start_date").val()&&$("#booking_end_date").val()&&setTimeout((function(){$("#search_rooms_button").trigger("click")}),500),$(document).on("click","#search_rooms_button",(function(o){o.preventDefault(),o.stopPropagation();var t=$("#booking_start_date").val(),e=$("#booking_end_date").val();t&&e?($("#search_rooms_button").addClass("button-loading"),$("#room_cards_container").html(""),$.ajax({url:route("booking.search-rooms"),type:"GET",data:{start_date:t,end_date:e},success:function(o){$("#search_rooms_button").removeClass("button-loading"),o.error?Botble.showError(o.message):o.data.rooms&&o.data.rooms.length>0?($("#room_cards_container").html(o.data.html),$("#booking_form_container").removeClass("d-none")):$("#room_cards_container").html('<div class="alert alert-warning">No rooms available for the selected dates</div>')},error:function(o){$("#search_rooms_button").removeClass("button-loading"),Botble.handleError(o)}})):Botble.showError("Please select both start date and end date to search for available rooms.")})),$(document).on("click",".select-room-button",(function(){var o=$(this).data("room-id"),t=$(this).data("room-name");$("#room_id").val(o),$("#selected_room_name").text(t),$(".room-card").removeClass("selected"),$(this).closest(".room-card").addClass("selected"),$("#booking_details_container").removeClass("d-none"),$("html, body").animate({scrollTop:$("#booking_details_container").offset().top-100},500)})),$(document).on("change","#customer_id",(function(){var o=$(this).val();"0"==o?($("#first_name").val("").closest(".form-group").show(),$("#last_name").val("").closest(".form-group").show(),$("#email").val("").closest(".form-group").show(),$("#phone").val("").closest(".form-group").show(),$("#address").val("").closest(".form-group").show(),$("#city").val("").closest(".form-group").show(),$("#state").val("").closest(".form-group").show(),$("#country").val("").closest(".form-group").show(),$("#zip").val("").closest(".form-group").show()):($("#first_name").closest(".form-group").hide(),$("#last_name").closest(".form-group").hide(),$("#email").closest(".form-group").hide(),$("#phone").closest(".form-group").hide(),$("#address").closest(".form-group").hide(),$("#city").closest(".form-group").hide(),$("#state").closest(".form-group").hide(),$("#country").closest(".form-group").hide(),$("#zip").closest(".form-group").hide(),$.ajax({url:route("customer.get-info",{id:o}),type:"GET",success:function(o){o.error?Botble.showError(o.message):($("#first_name").val(o.data.first_name),$("#last_name").val(o.data.last_name),$("#email").val(o.data.email),$("#phone").val(o.data.phone),$("#address").val(o.data.address),$("#city").val(o.data.city),$("#state").val(o.data.state),$("#country").val(o.data.country),$("#zip").val(o.data.zip))},error:function(o){Botble.handleError(o)}}))})),$("#customer_id").length&&$("#customer_id").trigger("change")}))})();