$(document).ready((function(){$(document).on("click",".action-item.clear_logs",(function(e){e.preventDefault(),Botble.showConfirm({title:"Clear all logs",message:"Are you sure you want to clear all logs? This action cannot be undone.",onConfirm:function(){$.ajax({url:route("ical.logs.clear"),type:"POST",success:function(e){e.error?Botble.showError(e.message):(Botble.showSuccess(e.message),window.location.reload())},error:function(e){Botble.handleError(e)}})}})})),$(document).on("click",".sync-calendar",(function(e){e.preventDefault();var o=$(this),r=o.data("room-id");o.prop("disabled",!0).addClass("button-loading"),$.ajax({url:route("ical.sync"),type:"POST",data:{room_id:r},success:function(e){e.error?Botble.showError(e.message):Botble.showSuccess(e.message),o.prop("disabled",!1).removeClass("button-loading")},error:function(e){Botble.handleError(e),o.prop("disabled",!1).removeClass("button-loading")}})})),$(document).on("click",".sync-all-calendars",(function(e){e.preventDefault();var o=$(this);o.prop("disabled",!0).addClass("button-loading"),$.ajax({url:route("ical.sync.all"),type:"POST",success:function(e){e.error?Botble.showError(e.message):Botble.showSuccess(e.message),o.prop("disabled",!1).removeClass("button-loading")},error:function(e){Botble.handleError(e),o.prop("disabled",!1).removeClass("button-loading")}})})),$(document).on("click",".delete-calendar",(function(e){e.preventDefault();var o=$(this),r=o.data("url");Botble.showConfirm({title:"Delete calendar",message:"Are you sure you want to delete this calendar?",onConfirm:function(){$.ajax({url:r,type:"DELETE",success:function(e){e.error?Botble.showError(e.message):(Botble.showSuccess(e.message),o.closest("tr").remove())},error:function(e){Botble.handleError(e)}})}})}))}));